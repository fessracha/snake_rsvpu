/*
* dependences:
* - slick (https://github.com/kenwheeler/slick/)
* - Magnific-Popup (https://github.com/dimsemenov/Magnific-Popup)
* */
;(function ($) {

	$.fn.callbackForm = function () {

		this.on('click', function () {
			var callbackForm = new SL(false);
			callbackForm.modules(
				{
					'/vendor/Magnific-Popup-master/dist/jquery.magnific-popup': Object.getPrototypeOf($())['magnificPopup'],
					'/vendor/slick-master/slick/slick': Object.getPrototypeOf($())['slick'],
				},
				true
			);
			callbackForm.run({
				callback: function () {
					var $callbackForm = $(
						'<div class="callback-form">' +
						'  <div class="callback-form__prev"></div>' +
						'  <div class="callback-form__next"></div>' +
						'  <div class="panel">' +
						'    <div class="callback-form__item">' +
						'      <h2>Связаться по Email</h2>' +
						'      <div class="form-group">' +
						'        <label for="inputEmail">Email</label>' +
						'        <input type="email" class="form-control" id="inputEmail" placeholder="example@site.ru">' +
						'      </div>' +
						'      <button class="btn btn-primary">Отправиить</button>' +
						'    </div>' +
						'    <div class="callback-form__item">' +
						'      <h2>Связаться по Телефону</h2>' +
						'      <div class="form-group">' +
						'        <label for="inputTel">Телефон</label>' +
						'        <input type="tel" class="form-control" id="inputTel" placeholder="+7 (ХХХ) ХХХ-ХХ-ХХ">' +
						'      </div>' +
						'      <button class="btn btn-primary">Отправиить</button>' +
						'    </div>' +
						'  </div>' +
						'</div>'
					);

					$.magnificPopup.open({
						items: {
							src: $callbackForm,
							type: 'inline'
						}
					});
					$callbackForm.children('.panel').slick({
						nextArrow: '.callback-form__prev',
						prevArrow: '.callback-form__next',
					});
				}
			})

		})

	};
})(jQuery);