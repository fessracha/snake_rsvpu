/*
* dependences:
* - slick (https://github.com/kenwheeler/slick/)
* - Magnific-Popup (https://github.com/dimsemenov/Magnific-Popup)
* */
;(function ($) {

	$.fn.product = function (options) {

		// Создаём настройки по-умолчанию, расширяя их с помощью параметров, которые были переданы
		var settings = $.extend({}, options);

		return this.each(function () {

			var $this = $(this);
			var $img = $this.find('.col__img-wrapper');
			var galleryProduct = new SL($img);
			galleryProduct.modules(
				{
					'/vendor/Magnific-Popup-master/dist/jquery.magnific-popup': Object.getPrototypeOf($())['magnificPopup'],
					'/vendor/slick-master/slick/slick': Object.getPrototypeOf($())['slick'],
				},
				true
			);
			galleryProduct.run({
				callback: function () {
					$img.magnificPopup({
						delegate: 'a',
						type: 'image',
						gallery: {
							enabled: true,
						},
					});
					$img.slick()
				}
			});

		});

	};
})(jQuery);